<!DOCTYPE html>
<html lang="nl">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />

    <title>Sociale Interacties & Dilemma's</title>

    <link
      rel="stylesheet"
      href="dist/reset.css"
    />
    <link
      rel="stylesheet"
      href="dist/reveal.css"
    />
    <link
      rel="stylesheet"
      href="dist/theme/white.css"
      id="theme"
    />
    <link
      rel="stylesheet"
      href="plugin/highlight/monokai.css"
    />
    <link
      rel="preconnect"
      href="https://fonts.googleapis.com"
    />
    <link
      rel="preconnect"
      href="https://fonts.gstatic.com"
      crossorigin
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;1,400&family=Merriweather:ital,wght@0,400;0,700;1,400&display=swap"
      rel="stylesheet"
    />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.js"></script>

    <style>
      :root {
        --main-bg-color: #f4f1eb;
        --text-color: #4a4a4a;
        --heading-color: #333d29;
        --accent-color-green: #656d4a;
        --accent-color-secondary-green: #588157;
        --highlight-color: #a47e56;
        --highlight-hover-color: #8a6a47;

        --title-text-color: #ffffff;
        --title-bg-overlay: rgba(40, 40, 40, 0.75);
        --title-subtitle-color: #e0e0e0;

        --font-primary: "Merriweather", serif;
        --font-secondary: "Lato", "Helvetica Neue", Helvetica, Arial, sans-serif;
      }

      /* --- General Reveal Settings & Body --- */
      .reveal {
        background-color: var(--main-bg-color);
        color: var(--text-color);
        font-family: var(--font-secondary);
      }

      /* --- Headings --- */
      .reveal h1,
      .reveal h2,
      .reveal h3,
      .reveal h4,
      .reveal h5,
      .reveal h6 {
        font-family: var(--font-primary);
        color: var(--heading-color);
        text-transform: none;
        line-height: 1.2;
      }
      .reveal h1 {
        /* Typically for the presentation title, not slide titles */
        font-size: 2.5em; /* Kept relatively large for main title */
        text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
        margin-bottom: 0.5em;
      }
      .reveal h2 {
        /* Slide titles */
        font-size: 1.7em; /* Reduced for more content space */
        margin-top: 0; /* Ensure h2 starts near top of slide content area */
        margin-bottom: 0.3em; /* Tighter to content below */
        border-bottom: 2px solid var(--highlight-color);
        padding-bottom: 0.15em; /* Minimal underline padding */
        text-align: left;
      }
      .reveal h3 {
        font-size: 1.3em; /* Reduced */
        color: var(--accent-color-secondary-green);
        margin-bottom: 0.3em;
      }
      .reveal h4 {
        font-size: 1.1em; /* Reduced */
        color: var(--accent-color-green);
        margin-bottom: 0.25em;
      }

      /* --- Paragraphs & Lists (Aggressive reduction) --- */
      .reveal p,
      .reveal li {
        font-size: 0.78em; /* Significantly reduced */
        line-height: 1.45; /* Tighter line spacing */
        text-align: left;
        margin-bottom: 0.25em; /* Very tight spacing */
      }
      .reveal ul,
      .reveal ol {
        margin-bottom: 0.4em; /* Tight spacing for lists */
      }
      /* Add a bit of space if a new block starts after a column or list */
      .reveal section > .column-layout + p,
      .reveal section > ul + p,
      .reveal section > ol + p {
        margin-top: 0.5em;
      }

      /* --- Strong Text & Links --- */
      .reveal strong {
        color: var(--accent-color-green);
        font-weight: 700;
      }
      .reveal a {
        color: var(--highlight-color);
        text-decoration: none;
        transition: color 0.2s ease-in-out;
      }
      .reveal a:hover {
        color: var(--highlight-hover-color);
        text-decoration: underline;
      }

      /* --- Title Slide Specifics (Generally less affected by content density issues) --- */
      .title-slide {
        text-align: center;
      }
      .title-slide-content {
        background-color: var(--title-bg-overlay);
        padding: 30px 45px; /* Slightly reduced padding */
        border-radius: 10px;
        display: inline-block;
        max-width: 85%;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      }
      .title-slide h1 {
        /* This H1 is specific to title-slide */
        color: var(--title-text-color);
        margin-bottom: 0.2em;
        font-size: 2.6em; /* Adjusted if needed */
        border-bottom: none;
        padding-bottom: 0;
        margin-top: 0;
      }
      .title-slide h3.subtitle {
        color: var(--title-subtitle-color);
        font-family: var(--font-secondary);
        font-style: italic;
        font-weight: 400;
        font-size: 1.15em; /* Adjusted */
        margin-top: 0;
        margin-bottom: 0.7em;
      }
      .title-slide .tagline {
        font-size: 0.9em; /* Adjusted */
        color: var(--title-text-color);
        font-family: var(--font-secondary);
        font-weight: 300;
        line-height: 1.45;
      }
      .title-slide .attribution {
        /* Now refers to the attribution INSIDE title-slide-content */
        font-size: 0.6em; /* Can be slightly larger if inside the box */
        color: rgba(255, 255, 255, 0.6); /* Adjust opacity as needed */
        background-color: transparent; /* No separate background needed if inside the overlay */
        padding: 5px 0 0 0; /* Add some top padding from the tagline */
        margin-top: 1em; /* Space from the tagline */
        text-align: center; /* Ensure it's centered within the block */
        display: block; /* Ensure it takes full width for centering */
      }

      /* --- Content Slide Styling --- */
      .reveal section img {
        max-width: 100%;
        height: auto;
      }
      .reveal section img.bordered-image {
        border: 4px solid var(--highlight-color); /* Slightly thinner border */
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.12); /* Reduced shadow */
        margin: 10px auto; /* Reduced margin */
        border-radius: 5px;
        background-color: white;
        padding: 5px;
        display: block;
      }
      .img-caption {
        font-size: 0.7em; /* Adjusted relative to new base */
        text-align: center;
        color: #777;
        font-style: italic;
        font-family: var(--font-secondary);
        margin-top: 5px; /* Reduced margin */
        display: block;
        line-height: 1.3;
      }

      /* --- Column Layout --- */
      .column-layout {
        display: flex;
        align-items: flex-start;
        gap: 20px; /* Slightly reduced gap */
        margin-top: 0.5em; /* Reduced space from title */
      }
      .column-layout > div {
        flex: 1;
      }
      .column-layout > .text-column {
        flex: 1.5;
      }
      .column-layout > .text-column > *:first-child {
        margin-top: 0; /* Ensure first element in text column has no extra top margin */
      }
      .column-layout > .text-column > *:last-child {
        margin-bottom: 0; /* Ensure last element in text column has no extra bottom margin */
      }
      .column-layout > .image-column {
        flex: 1;
        text-align: center;
      }
      .column-layout .image-column img.bordered-image {
        margin-top: 0; /* Align image top with text column's first element */
      }
      .column-layout .image-column .img-caption {
        font-size: 0.7em; /* Keep caption small */
        margin-top: 5px; /* Tight margin */
      }

      /* --- Custom Bullet Points (Adjusted for smaller base font) --- */
      .bullet-points ul {
        list-style-type: none;
        padding-left: 0; /* Ensure no default browser padding affecting layout */
      }
      .bullet-points li {
        background: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="%23656d4a" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>')
          no-repeat 0 0.18em; /* Adjusted vertical alignment */
        background-size: 0.7em; /* Adjusted icon size for smaller text */
        padding-left: 1.2em; /* Adjusted padding for icon */
        margin-bottom: 0.2em; /* Minimal space between items */
      }
      .bullet-points ul ul {
        /* Nested lists */
        list-style-type: none;
        padding-left: 0; /* Ensure no default browser padding affecting layout */
        margin-top: 0.15em; /* Minimal top margin */
        margin-bottom: 0.2em; /* Minimal bottom margin */
        padding-left: 0.5em; /* Indent the UL itself slightly for visual structure if desired */
      }
      .bullet-points ul ul li {
        background-image: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"><path fill="%23588157" d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/></svg>');
        font-size: 0.95em; /* Relative to parent li's new smaller size */
        padding-left: 1.1em; /* Adjusted padding for sub-bullets */
        background-size: 0.65em; /* Adjusted size */
        background-position: 0 0.2em; /* Fine-tune alignment */
      }

      /* --- Specific Slide Elements: Social Dilemma Examples --- */
      .example-container {
        display: flex;
        justify-content: space-around;
        align-items: stretch;
        gap: 15px; /* Reduced gap */
        margin-top: 15px; /* Reduced margin */
      }
      .example-item {
        flex: 1;
        min-width: 0;
        text-align: center;
        padding: 10px; /* Reduced padding */
        background-color: rgba(255, 255, 255, 0.3);
        border-radius: 6px; /* Slightly smaller radius */
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.07); /* Reduced shadow */
        display: flex;
        flex-direction: column;
      }
      .example-item img {
        width: 100%;
        max-width: 240px; /* Slightly reduced */
        height: 150px; /* Slightly reduced */
        object-fit: cover;
        border-radius: 4px;
        margin-bottom: 6px; /* Reduced space */
      }
      .example-item p {
        font-size: 0.75em; /* Adjusted to be smaller than main p */
        margin-top: auto;
        text-align: center;
        line-height: 1.3; /* Tightened line height */
      }

      /* --- Helper Classes --- */
      .text-center {
        text-align: center !important;
      }
      .mt-1 {
        margin-top: 1em;
      }
      .mb-1 {
        margin-bottom: 1em;
      }
      .mb-0 {
        margin-bottom: 0 !important;
      }

      /*
        ADVICE FOR MANAGING CONTENT OVERFLOW:

        If text still overflows significantly, consider these essential strategies:

        1.  MOST RECOMMENDED - REDUCE CONTENT PER SLIDE:
            * This is the best practice for clear and engaging presentations.
            * Use keywords and short phrases. Expand on points verbally.
            * Split dense information across multiple slides.

        2.  ADJUST REVEALJS GLOBAL SLIDE HEIGHT:
            * In your Reveal.initialize script (at the bottom of the HTML),
                increase the 'height' parameter.
            * Example: Change `height: 700` to `height: 768` or `height: 800`.
                This gives all slides more vertical space.
                ```javascript
                // Reveal.initialize({
                //  // ... other settings
                //  height: 768, // instead of 700
                //  // ...
                // });
                ```

        3.  PER-SLIDE SCROLLING (Use as a last resort for specific, unavoidable cases):
            * Add `data-state="scrollHeight"` to the overflowing `<section>` tag:
                `<section data-state="scrollHeight"> ... your slide content ... </section>`
            * Add this CSS to style the scrollbar (optional, but nicer):
                ```css
                .reveal .slides section[data-state="scrollHeight"] {
                    overflow-y: auto !important;
                    height: 100%;
                    padding-bottom: 30px; // Space for scrollbar not to hit absolute bottom
                }
                .reveal .slides section[data-state="scrollHeight"]::-webkit-scrollbar { width: 8px; }
                .reveal .slides section[data-state="scrollHeight"]::-webkit-scrollbar-track { background: rgba(0,0,0,0.1); border-radius: 4px; }
                .reveal .slides section[data-state="scrollHeight"]::-webkit-scrollbar-thumb { background: var(--highlight-color); border-radius: 4px; }
                .reveal .slides section[data-state="scrollHeight"]::-webkit-scrollbar-thumb:hover { background: var(--highlight-hover-color); }
                ```
    */
      #pdMatrixStaticContainer {
        width: 100%;
        max-width: 750px; /* Iets breder om grotere matrix te accommoderen */
        height: 450px; /* Meer hoogte voor grotere matrix en labels */
        margin: 10px auto; /* Kleinere top/bottom marge als slide vol raakt */
        border: 1.5px solid var(--highlight-color);
        border-radius: 4px;
        overflow: hidden;
      }
      #pdAnalysisMatrixContainer {
        width: 100%; /* Behoud dit om flexbox de breedte te laten bepalen */
        max-width: 480px; /* Max breedte blijft */
        height: 360px; /* Misschien iets verhogen als de relatieve labels meer vragen, start met 360-380 */
        margin: 15px auto;
        border: 1.5px solid var(--highlight-color);
        border-radius: 4px;
        overflow: hidden;
      }
      .code-block {
        font-family: "Courier New", Courier, monospace;
        font-size: 0.9em; /* Relatief aan ouder p/li */
        background-color: #e8e8e0;
        padding: 8px 12px;
        border-radius: 4px;
        margin-top: 0.2em;
        display: inline-block; /* Of block als je de hele breedte wilt */
      }
    </style>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section
          data-state="scrollHeight"
          data-background-image="cezanne.jpg"
          data-background-opacity="0.6"
          data-background-position="center center"
          class="title-slide"
        >
          <div class="title-slide-content">
            <h1>SOCIALE INTERACTIES</h1>
            <h3 class="subtitle">Dilemma's en Samenwerking</h3>
            <p class="tagline">
              Hoe eigenbelang, respect voor anderen en instituties onze wereld
              vormen.
            </p>
            <p class="attribution">
              Achtergrond: Paul Cézanne's "Les Joueurs de Carte" (De
              Kaartspelers)
            </p>
          </div>
        </section>
        <section>
          <h2>Het Maatschappelijk Fundament: Sociale Interacties</h2>
          <div class="column-layout">
            <div class="text-column bullet-points">
              <p>Jouw keuze heeft invloed op iedereen.</p>
              <ul>
                <li class="fragment">
                  <strong>Strategische Interacties:</strong> Bewustzijn van
                  wederzijdse impact van acties.
                </li>
                <li class="fragment">
                  <strong>Speltheorie:</strong> Modellen voor interactieve
                  beslissingen.
                  <ul>
                    <li class="fragment">
                      Kernelementen: Spelers, Strategieën, Informatie,
                      Uitbetalingen.
                    </li>
                  </ul>
                </li>
                <li class="fragment">
                  <strong>Conflict:</strong> Individueel gewin vs. collectief
                  welzijn.
                </li>
              </ul>
            </div>
            <div class="image-column">
              <img
                src="people-collaborating.png"
                alt="Mensen die samenwerken aan een project"
                class="bordered-image"
              />
              <span class="img-caption"
                >Van markttransacties tot wereldwijd klimaatbeleid.</span
              >
            </div>
          </div>
        </section>

        <section data-state="scrollHeight">
          <h2>De Kern van de Zaak: Sociale Dilemma's</h2>
          <p class="fragment text-center">
            <strong>Sociaal dilemma</strong>: Eigenbelang leidt tot
            <strong>collectief inferieure resultaten</strong>.
          </p>

          <div class="example-container">
            <div
              class="example-item fragment"
              data-fragment-index="1"
            >
              <img
                src="traffic-jam.jpg"
                alt="Luchtfoto van een file"
              />
              <p>
                <strong>Files:</strong> Mijn gemak vs. collectieve stagnatie.
              </p>
            </div>
            <div
              class="example-item fragment"
              data-fragment-index="2"
            >
              <img
                src="climate-change.jpg"
                alt="Rookpluimen die de lucht vervuilen met de Aarde op de achtergrond"
              />
              <p>
                <strong>Klimaatverandering:</strong> Mijn kleine impact vs.
                wereldwijde gevolgen.
              </p>
            </div>
            <div
              class="example-item fragment"
              data-fragment-index="3"
            >
              <img
                src="deep-sea-mining.jpg"
                alt="Visnetten, symbool voor overbevissing"
              />
              <p>
                <strong>Tragedie van de Meent:</strong> Individueel gewin vs.
                uitputting van middelen.
              </p>
            </div>
          </div>
          <p
            class="fragment text-center"
            data-fragment-index="4"
            style="margin-top: 20px; color: var(--heading-color)"
          >
            <strong>Uitdaging:</strong> Individuele prikkels & collectief
            welzijn op één lijn brengen.
          </p>
        </section>

        <section data-state="scrollHeight">
          <h2>Experiment: Het Publieke Goederenspel</h2>

          <div class="column-layout">
            <div
              class="text-column bullet-points"
              style="flex: 1.2"
            >
              <ul>
                <li class="fragment">
                  <strong>Groep & Rondes:</strong> 4 studenten, 10 rondes,
                  anoniem.
                </li>
                <li class="fragment">
                  <strong>Startkapitaal:</strong> 20 tokens per ronde.
                </li>
                <li class="fragment">
                  <strong>Keuze:</strong> Bijdrage aan project (0-20 tokens).
                  Rest voor jezelf.
                </li>
              </ul>
            </div>
            <div
              class="text-column bullet-points"
              style="flex: 1.2"
            >
              <ul>
                <li class="fragment">
                  <strong>Projectopbrengst:</strong>
                  <ul>
                    <li>Input: 1 token → Output project: 1.6 tokens.</li>
                    <li>
                      Jouw aandeel: 0.4 token per bijgedragen token (door
                      iedereen).
                    </li>
                  </ul>
                </li>
              </ul>
            </div>
          </div>
        </section>
        <section data-state="scrollHeight">
          <h2>Spelregels</h2>
          <div class="column-layout">
            <div class="text-column bullet-points">
              <ul>
                <li>
                  <strong>Doel:</strong> Maximaal totaal inkomen na 10 rondes.
                </li>
                <li style="color: var(--highlight-color); margin-top: 10px">
                  <strong>Regel:</strong> Beslissingen privé! Niet overleggen.
                </li>
              </ul>
            </div>
            <div
              class="image-column"
              style="align-self: center"
            >
              <img
                src="game-rules.png"
                alt="People palying a game"
                class="bordered-image"
                style="max-width: 500px; max-height: 400px"
              />
            </div>
          </div>
          <aside class="notes">
            Leg uit dat dit een live experiment is. Loop de regels stap voor
            stap door. Benadruk de berekening van de inkomsten. Herinner
            studenten aan de geheimhoudingsregel.
          </aside>
        </section>

        <!-- Eventuele extra slide met de begripvragen van pagina 2 van de PDF -->
        <section data-state="scrollHeight">
          <h2>Publieke Goederenspel: Begripvragen</h2>
          <div style="font-size: 0.75em">
            <strong>Inkomsten per Ronde:</strong>
            <p class="code-block">Tokens gehouden + (0.4 × Totaal project)</p>
          </div>
          <p>Test je begrip van de regels:</p>
          <div
            class="bullet-points"
            style="font-size: 0.9em"
          >
            <!-- Iets kleinere tekst voor vragen -->
            <ol style="list-style-type: decimal; padding-left: 20px">
              <li
                class="fragment"
                style="background: none; padding-left: 0"
              >
                Elk groepslid heeft 20 tokens. Stel, de andere drie dragen
                <strong>niets</strong> bij.
                <ul style="margin-top: 5px">
                  <li>
                    (a) Wat zijn jouw inkomsten als jij
                    <strong>niets</strong> bijdraagt?
                  </li>
                  <li>
                    (b) Wat zijn jouw inkomsten als jij
                    <strong>20 tokens</strong> bijdraagt?
                  </li>
                </ul>
              </li>
              <li
                class="fragment"
                style="background: none; padding-left: 0; margin-top: 15px"
              >
                Elk groepslid heeft 20 tokens. Stel, de andere drie dragen samen
                <strong>12 tokens</strong> bij (exclusief jouw bijdrage).
                <ul style="margin-top: 5px">
                  <li>
                    (a) Wat zijn jouw inkomsten als jij
                    <strong>20 tokens</strong> bijdraagt?
                  </li>
                  <li>
                    (b) Wat zijn jouw inkomsten als jij
                    <strong>0 tokens</strong> bijdraagt?
                  </li>
                </ul>
              </li>
            </ol>
          </div>
          <p
            class="fragment"
            style="margin-top: 20px"
          >
            <em
              >Denk na over wat jouw optimale strategie zou zijn in deze
              scenario's!</em
            >
          </p>
          <aside class="notes">
            Deze vragen helpen studenten de payoff-structuur te begrijpen.<br />Antwoorden:
            <br />1a: Inkomsten = (20-0) + (0.4 * 0) = 20 tokens. <br />1b:
            Inkomsten = (20-20) + (0.4 * 20) = 0 + 8 = 8 tokens.<br />
            2a: Inkomsten = (20-20) + (0.4 * 32) = 0 + 12.8 = 12.8 tokens.<br />
            2b: Inkomsten = (20-0) + (0.4 * 12) = 20 + 4.8 = 24.8 tokens.
          </aside>
        </section>

        <section data-state="scrollHeight">
          <h2>Het Gevangenendilemma: De Klassieker</h2>
          <div class="column-layout">
            <div class="text-column bullet-points">
              <ul>
                <li
                  class="fragment"
                  data-fragment-index="1"
                >
                  <strong>Scenario:</strong> Twee verdachten (gevangenen) worden
                  apart verhoord.
                </li>
                <li
                  class="fragment"
                  data-fragment-index="2"
                >
                  Ze kunnen niet communiceren.
                </li>
                <li
                  class="fragment"
                  data-fragment-index="3"
                >
                  Elk heeft twee keuzes:
                  <ul>
                    <li><strong>Bekennen</strong> (de ander verraden).</li>
                    <li>
                      <strong>Zwijgen</strong> (samenwerken met de ander door
                      niet te bekennen).
                    </li>
                  </ul>
                </li>
              </ul>
            </div>
            <div
              class="image-column fragment"
              data-fragment-index="4"
            >
              <img
                src="prisoner-dilemma.png"
                alt="Twee gestileerde figuren achter tralies"
                class="bordered-image"
              />
              <span class="img-caption"
                >Individuele rationaliteit vs. collectief resultaat.</span
              >
            </div>
          </div>
          <div>
            <blockquote class="fragment">
              Twee logisch denkende personen kiezen soms tegen samenwerking,
              zelfs als samenwerken voor beiden voordeliger is.
            </blockquote>
          </div>
        </section>

        <section data-state="scrollHeight prisoner-dilemma-matrix-slide">
          <h2>Gevangenendilemma: Uitbetalingsmatrix</h2>
          <p>
            De uitkomsten (jaren straf) hangen af van de keuzes van beide
            gevangenen.
          </p>

          <div
            id="pdMatrixStaticContainer"
            style="
              width: 600px;
              height: 350px;
              margin: 20px auto;
              border: 1px solid var(--highlight-color);
            "
          >
            <!-- p5.js sketch zal hier worden ingevoegd -->
          </div>
          <p
            class="fragment text-center"
            style="margin-top: 10px"
          >
            Laten we de logica van elke gevangene analyseren.
          </p>
        </section>

        <!-- Slide #/6: Analyse van het Dilemma -->
        <section data-state="scrollHeight prisoner-dilemma-analysis-slide">
          <h2>Analyse van het Dilemma</h2>
          <div class="column-layout">
            <div
              class="text-column bullet-points"
              style="flex: 1.2"
            >
              <!-- Iets meer ruimte voor tekst -->
              <p style="margin-bottom: 0.5em">Stel je bent Gevangene A:</p>
              <ul>
                <!-- STAP 1: B Zwijgt -->
                <li
                  class="fragment"
                  data-analysis-step="B_Zwijgt_Header"
                >
                  Als B <strong>Zwijgt</strong>:
                  <ul>
                    <li
                      class="fragment"
                      data-analysis-step="B_Zwijgt_A_Beken"
                    >
                      A Bekent: 0 jaar
                      <span
                        style="
                          color: var(--accent-color-blue);
                          font-weight: bold;
                        "
                        >(Beste Keuze)</span
                      >
                    </li>
                    <li
                      class="fragment"
                      data-analysis-step="B_Zwijgt_A_Zwijg"
                    >
                      A Zwijgt: 1 jaar
                    </li>
                  </ul>
                </li>
                <!-- STAP 2: B Bekent -->
                <li
                  class="fragment"
                  data-analysis-step="B_Bekent_Header"
                  style="margin-top: 1em"
                >
                  Als B <strong>Bekent</strong>:
                  <ul>
                    <li
                      class="fragment"
                      data-analysis-step="B_Bekent_A_Beken"
                    >
                      A Bekent: 5 jaar
                      <span
                        style="
                          color: var(--accent-color-blue);
                          font-weight: bold;
                        "
                        >(Beste Keuze)</span
                      >
                    </li>
                    <li
                      class="fragment"
                      data-analysis-step="B_Bekent_A_Zwijg"
                    >
                      A Zwijgt: 10 jaar
                    </li>
                  </ul>
                </li>
              </ul>
              <!-- STAP 3: Dominante Strategie Conclusie -->
            </div>
            <div
              class="matrix-column"
              style="
                flex: 1.8;
                display: flex;
                justify-content: center;
                align-items: center;
              "
            >
              <div id="pdAnalysisMatrixContainer">
                <!-- p5.js matrix sketch wordt hier opnieuw getekend/geüpdatet -->
              </div>
            </div>
          </div>
          <div>
            <p
              class="fragment"
              data-analysis-step="A_Dominant"
              style="
                margin-top: 1.5em;
                color: var(--heading-color);
                font-weight: bold;
              "
            >
              Voor Gevangene A is <strong>Bekennen</strong> dus altijd de beste
              keuze. Dit is A's <strong>dominante strategie</strong>.
            </p>
          </div>
        </section>

        <section data-state="scrollHeight">
          <h2>Resultaat & De "Tragedie"</h2>
          <div class="bullet-points">
            <ul>
              <li class="fragment">
                Beide gevangenen kiezen hun dominante strategie:
                <strong>Bekennen</strong>.
              </li>
              <li class="fragment">
                Het resultaat (evenwicht): Beide krijgen
                <strong>5 jaar</strong> celstraf.
              </li>
              <li class="fragment">
                <strong>MAAR:</strong> Als ze beiden hadden
                <strong>gezwegen</strong>, hadden ze elk maar
                <strong>1 jaar</strong> gekregen!
              </li>
              <li
                class="fragment"
                style="
                  color: var(--heading-color);
                  font-weight: bold;
                  margin-top: 1em;
                "
              >
                Dit is het dilemma: individueel rationeel gedrag leidt tot een
                collectief suboptimaal resultaat.
              </li>
            </ul>
            <p
              class="fragment"
              style="margin-top: 1em"
            >
              Toepassingen: wapenwedlopen, prijsconcurrentie, milieuvervuiling,
              en... het publieke goederenspel!
            </p>
          </div>
        </section>

        <!-- Plaats deze slide na de Gevangenendilemma slides -->

        <section data-state="scrollHeight">
          <h2>Sociale Dilemma's Oplossen</h2>
          <div class="bullet-points">
            <p>
              Verschillende mechanismen kunnen sociale dilemma's helpen
              verminderen:
            </p>
            <ul>
              <li class="fragment">
                <strong>Altruïsme & Sociale Voorkeuren:</strong> Individuen die
                geven om de uitkomsten van anderen.
              </li>
              <li class="fragment">
                <strong>Herhaalde Interacties & Reputatie:</strong> "Schaduw van
                de toekomst" moedigt samenwerking aan.
              </li>
              <li class="fragment">
                <strong>Sociale Normen:</strong> Gedeeld begrip van gepast
                gedrag.
              </li>
              <li class="fragment">
                <strong>Instituties & Handhaving:</strong> Regels, wetten en
                straffen die uitbetalingen veranderen.
                <ul>
                  <li class="fragment">
                    Voorbeeld: Belastingen op vervuiling.
                  </li>
                  <li class="fragment">Voorbeeld: Visquota.</li>
                </ul>
              </li>
              <li class="fragment">
                <strong>Communicatie & Overeenkomsten:</strong> Spelers in staat
                stellen te coördineren.
              </li>
            </ul>
          </div>
        </section>
      </div>
    </div>

    <script src="dist/reveal.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/highlight/highlight.js"></script>

    <script>
      let pdMatrixStaticInstance = null;
      let pdAnalysisMatrixInstance = null;
      // let pdTextAnalysisInstance = null; // Als je die nog gebruikt

      Reveal.initialize({
        hash: true,
        controls: true,
        progress: true,
        center: true,
        slideNumber: "c/t",
        width: 1024,
        height: 800,
        margin: 0.04,
        minScale: 0.2,
        maxScale: 2.0,
        plugins: [RevealMarkdown, RevealHighlight, RevealNotes],
      });

      function destroyP5Sketch(instance) {
        if (instance) {
          instance.remove();
        }
        return null;
      }

      Reveal.addEventListener("ready", function (event) {
        const currentSlide = Reveal.getCurrentSlide();
        if (
          currentSlide.matches('[data-state~="prisoner-dilemma-matrix-slide"]')
        ) {
          pdMatrixStaticInstance = destroyP5Sketch(pdMatrixStaticInstance);
          pdMatrixStaticInstance = new p5(
            pdMatrixStaticSketch("pdMatrixStaticContainer"),
            "pdMatrixStaticContainer"
          );
        }
        if (
          currentSlide.matches(
            '[data-state~="prisoner-dilemma-analysis-slide"]'
          )
        ) {
          pdAnalysisMatrixInstance = destroyP5Sketch(pdAnalysisMatrixInstance);
          pdAnalysisMatrixInstance = new p5(
            pdMatrixAnalysisSketch("pdAnalysisMatrixContainer"),
            "pdAnalysisMatrixContainer"
          );
        }
        // Voeg hier initialisatie voor pdTextAnalysisInstance toe indien nodig
      });

      Reveal.addEventListener("slidechanged", function (event) {
        if (event.previousSlide) {
          if (
            event.previousSlide.matches(
              '[data-state~="prisoner-dilemma-matrix-slide"]'
            )
          ) {
            pdMatrixStaticInstance = destroyP5Sketch(pdMatrixStaticInstance);
          }
          if (
            event.previousSlide.matches(
              '[data-state~="prisoner-dilemma-analysis-slide"]'
            )
          ) {
            pdAnalysisMatrixInstance = destroyP5Sketch(
              pdAnalysisMatrixInstance
            );
            // pdTextAnalysisInstance = destroyP5Sketch(pdTextAnalysisInstance); // Indien gebruikt
          }
        }

        if (
          event.currentSlide.matches(
            '[data-state~="prisoner-dilemma-matrix-slide"]'
          )
        ) {
          pdMatrixStaticInstance = destroyP5Sketch(pdMatrixStaticInstance);
          pdMatrixStaticInstance = new p5(
            pdMatrixStaticSketch("pdMatrixStaticContainer"),
            "pdMatrixStaticContainer"
          );
        }
        if (
          event.currentSlide.matches(
            '[data-state~="prisoner-dilemma-analysis-slide"]'
          )
        ) {
          pdAnalysisMatrixInstance = destroyP5Sketch(pdAnalysisMatrixInstance);
          pdAnalysisMatrixInstance = new p5(
            pdMatrixAnalysisSketch("pdAnalysisMatrixContainer"),
            "pdAnalysisMatrixContainer"
          );
          if (pdAnalysisMatrixInstance)
            pdAnalysisMatrixInstance.updateAnalysisStep(null);
          // pdTextAnalysisInstance = new p5(pdTextAnalysisSketch('pdTextAnalysisSketchContainer'), 'pdTextAnalysisSketchContainer'); // Indien gebruikt
        }
      });

      Reveal.addEventListener("fragmentshown", function (event) {
        if (
          pdAnalysisMatrixInstance &&
          Reveal.getCurrentSlide().matches(
            '[data-state~="prisoner-dilemma-analysis-slide"]'
          )
        ) {
          const analysisStep = event.fragment.dataset.analysisStep;
          if (analysisStep) {
            pdAnalysisMatrixInstance.updateAnalysisStep(analysisStep);
          }
        }
        // Voeg hier logica voor pdTextAnalysisInstance toe indien nodig
      });

      Reveal.addEventListener("fragmenthidden", function (event) {
        if (
          pdAnalysisMatrixInstance &&
          Reveal.getCurrentSlide().matches(
            '[data-state~="prisoner-dilemma-analysis-slide"]'
          )
        ) {
          // Logica om de staat te updaten op basis van het nu *vorige* zichtbare fragment
          let visibleFragments =
            Reveal.getCurrentSlide().querySelectorAll(".fragment.visible");
          let lastVisibleStep = null;
          if (visibleFragments.length > 0) {
            let lastVisibleFragment =
              visibleFragments[visibleFragments.length - 1];
            if (lastVisibleFragment.dataset.analysisStep) {
              lastVisibleStep = lastVisibleFragment.dataset.analysisStep;
            }
          }
          pdAnalysisMatrixInstance.updateAnalysisStep(lastVisibleStep); // Kan null zijn als geen fragmenten meer zichtbaar

          // Voeg hier logica voor pdTextAnalysisInstance toe indien nodig
        }
      });
    </script>
    <script src="sketches.js"></script>
  </body>
</html>
